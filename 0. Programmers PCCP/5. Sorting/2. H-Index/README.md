# H-Index

## 문제 개요

-   문제 유형: 정렬
-   문제 난도: 프로그래머스 Lv2, 66% (2024/12)
-   문제 링크: https://school.programmers.co.kr/learn/courses/30/lessons/42747

## 문제 내용 설명

-   논문 n편 중 인용 횟수가 h번 이상인 것이 h개 이상 있을 때, h의 최댓값을 H-Index라고 한다. H-Index를 구하시오.

### 문제 핵심 내용 요약

-   입력 값: 논문 별 인용 횟수의 배열, (0 <= 인용 횟수 <= 10,000) (1 <= 논문 수 <= 1,000)
-   출력 값: H-Index

## 문제 해설

-   문제 해결책 설명
-   수도 코드
-   사용 단위 알고리즘 종류
-   사용 단위 알고리즘 구현
-   문제 해결 코드

### 1. 문제 해결책 설명

-   명확한 방법이 떠오르지는 않는다.

#### 1-1 [접근 1]

-   인용 횟수 배열을 내림차순 정렬한다.
-   index+1 === value인 경우 그 값을 반환한다.
-   (ex) `[6,6,6,6,6,6,...]`이면 6번째 6일 때 i=5, value=6이므로, H-Index=6
-   이 조건에 맞는 값을 찾는 즉시 반환하면 된다.

#### 1-2. [접근 1에 대한 추가 확인]

### 2. 수도 코드

1. 배열을 내림차순 정렬한다.
2. 배열을 순회하면서 index+1 === value인 value를 찾아 반환한다.

### 3. 사용 단위 알고리즘 종류

-   정렬

### 4. 사용 단위 알고리즘 구현

-   언어 내장 함수 사용

### 5. 단위 알고리즘 활용 코드

#### 5-1. 첫 시도 코드

```js
const solution = (citations) => {
    return citations
        .sort((a, b) => b - a)
        .find((value, index) => value === index + 1);
};
```

-   예시 TC는 통과했지만 실제 TC는 모두 실패했다.

-   "나머지 논문의 인용 횟수는 그 이하이어야 한다" 조건은 자동으로 만족된다고 생각했는데 아닌 듯하다.
-   [9,8,7,6,5,4,3,2,1] 이면? h=5
-   [5,5,5,5] 이면? h=4
-   위 코드의 문제는 순서 = 값일 때만 동작한다는 점이다.
-   순서 != 값일 때도 구할 수 있어야 한다.
-   (ex) [10, 5, 4, 1, 0] 이면 h = 4 가 아니라 h = 3 이어야 한다.
-   즉 10, 5, 4, 일 때 h=3임은 확인 가능해야 한다.
-   index 기반으로 횟수를 계속 세면 된다.

#### 5-2. 두 번째 시도 코드

-   동일하게 전체 TC가 실패했다.
-   `value <= index + 1`이면 잘 동작할 것이라고 생각했다.

```js
const solution = (citations) => {
    return (
        citations
            .sort((a, b) => b - a)
            .findIndex((value, index) => value <= index + 1) + 1
    );
};
```

#### 5-3. 세 번째 시도 코드

-   동일하게 전체 TC가 실패했다.
-   예시 TC에 `[9, 8, 7, 6, 2, 2, 2, 2, 2]`를 추가했다.
-   로그를 찍어보니 value <= index+1인 시점이 실제 시점보다 1 커서, findIndex + 1에서 +1을 제거했다.

```text
value index
9 0
8 1
7 2
6 3 <-- 정상 h 값 시점
2 4 <-- 인식 문제
```

-   그랬더니 기본 TC에서 오답이 났다. (`실행한 결괏값 2이 기댓값 3과 다릅니다.`)

```text
6 0
5 1
3 2
```

-   이 경우에는 h=3이어야 하는데, index=2이므로 문제가 된다.

-   경계를 설정하는 조건이 많이 복잡하다고 느껴져서 findIndex를 쓰지 않기로 했다.
-   filter로 유효한 h 값을 만족하는 요소들만 구한다음, 그 개수를 반환하면 된다고 생각해 코드를 바꿨다.

```js
const solution = (citations) => {
    return citations
        .sort((a, b) => b - a)
        .filter((value, index) => value >= index + 1).length;
};
```

#### 5-3. 완성 코드

```js
const solution = (citations) => {
    return citations
        .sort((a, b) => b - a)
        .filter((value, index) => value >= index + 1).length;
};
```
